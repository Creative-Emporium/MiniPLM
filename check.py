# from data_utils.distributed_indexed import DistributedMMapIndexedDataset
# from transformers import AutoTokenizer
# import sys

# tokenizer = AutoTokenizer.from_pretrained("checkpoints/fairseq/125M/")

# ctx = DistributedMMapIndexedDataset("/home/lidong1/yuxian/sps/processed_data/pretrain/owbt/chunked/fairseq-1025", "data", False, 0)

# idx = int(sys.argv[1])

# print(ctx[idx])
# print(len(ctx[idx]))
# print(ctx[idx][-20:])
# print(tokenizer.decode(ctx[idx]))


s = "8.9087, 8.4923, 7.9427, 7.1689, 6.5212, 6.1327, 5.8816, 5.7029, 5.5665, 5.4604, 5.3742, 5.3006, 5.2357, 5.1781, 5.1261, 5.0776, 5.0332, 4.9922, 4.954" \
+ "2, 4.9189, 4.8859, 4.855, 4.8261, 4.7988, 4.7731, 4.7489, 4.7259, 4.7041, 4.6834, 4.6636, 4.6448, 4.6268, 4.6095, 4.593, 4.5771, 4.5618, 4.547, 4.5328, 4.5191, 4.5058" \
+ ", 4.4929, 4.4804, 4.4683, 4.4565, 4.4451, 4.4339, 4.4231, 4.4125, 4.4022, 4.3921, 4.3822, 4.3726, 4.3631, 4.3539, 4.3448, 4.336, 4.3273, 4.3187, 4.3104, 4.3021, 4.294" \
+ ", 4.2861, 4.2783, 4.2706, 4.2631, 4.2556, 4.2483, 4.2411, 4.234, 4.227, 4.2201, 4.2133, 4.2066, 4.2, 4.1935, 4.1871, 4.1807, 4.1745, 4.1683, 4.1622, 4.1562, 4.1502, 4" \
+ ".1444, 4.1386, 4.1328, 4.1272, 4.1215, 4.116, 4.1105, 4.1051, 4.0998, 4.0945, 4.0892, 4.084, 4.0789, 4.0738, 4.0688, 4.0638, 4.0589, 4.054, 4.0492, 4.0444, 4.0396, 4." \
+ "0349, 4.0303, 4.0256, 4.0211, 4.0165, 4.012, 4.0076, 4.0032, 3.9988, 3.9945, 3.9901, 3.9859, 3.9816, 3.9774, 3.9733, 3.9691, 3.965, 3.961, 3.9569, 3.9529, 3.9489, 3.9" \
+ "45, 3.941, 3.9371, 3.9333, 3.9294, 3.9256, 3.9218, 3.9181, 3.9143, 3.9106, 3.9069, 3.9032, 3.8996, 3.896, 3.8924, 3.8888, 3.8853, 3.8817, 3.8782, 3.8747, 3.8713, 3.86" \
+ "78, 3.8644, 3.861, 3.8576, 3.8542, 3.8509, 3.8475, 3.8442, 3.8409, 3.8377, 3.8344, 3.8312, 3.8279, 3.8247, 3.8215, 3.8184, 3.8152, 3.8121, 3.8089, 3.8058, 3.8027, 3.7" \
+ "996, 3.7966, 3.7935, 3.7905, 3.7874, 3.7844, 3.7814, 3.7785, 3.7755, 3.7725, 3.7696, 3.7667, 3.7637, 3.7608, 3.7579, 3.7551, 3.7522, 3.7493, 3.7465, 3.7437, 3.7408, 3" \
+ ".738, 3.7352, 3.7324, 3.7296, 3.7269, 3.7241, 3.7214, 3.7186, 3.7159, 3.7132, 3.7105, 3.7078, 3.7051, 3.7025, 3.6998, 3.6971, 3.6945, 3.6919, 3.6892, 3.6866, 3.684, 3" \
+ ".6814, 3.6789, 3.6763, 3.6737, 3.6712, 3.6686, 3.6661, 3.6635, 3.661, 3.6585, 3.656, 3.6535, 3.651, 3.6486, 3.6461, 3.6436, 3.6412, 3.6388, 3.6363, 3.6339, 3.6315, 3." \
+ "6291, 3.6267, 3.6244, 3.622, 3.6196, 3.6173, 3.615, 3.6126, 3.6103, 3.608, 3.6057, 3.6034, 3.6011, 3.5988, 3.5966, 3.5943, 3.5921, 3.5898, 3.5876, 3.5854, 3.5832, 3.5" \
+ "81, 3.5788, 3.5767, 3.5745, 3.5723, 3.5702, 3.5681, 3.5659, 3.5638, 3.5617, 3.5596, 3.5575, 3.5555, 3.5534, 3.5513, 3.5493, 3.5472, 3.5452, 3.5432, 3.5412, 3.5392, 3." \
+ "5372, 3.5352, 3.5333, 3.5313, 3.5294, 3.5274, 3.5255, 3.5235, 3.5216, 3.5197, 3.5178, 3.5159, 3.514, 3.5122, 3.5103, 3.5084, 3.5066, 3.5048, 3.5029, 3.5011, 3.4993, 3" \
+ ".4975, 3.4957, 3.4939, 3.4921, 3.4903, 3.4886, 3.4868, 3.4851, 3.4833, 3.4816, 3.4799, 3.4782, 3.4765, 3.4748, 3.4731, 3.4714, 3.4697, 3.468, 3.4664, 3.4647, 3.4631, " \
+ "3.4614, 3.4598, 3.4581, 3.4565, 3.4549, 3.4533, 3.4517, 3.4501, 3.4485, 3.447, 3.4454, 3.4438, 3.4423, 3.4407, 3.4392, 3.4377, 3.4361, 3.4346, 3.4331, 3.4316, 3.4301," \
+ " 3.4286, 3.4271, 3.4256, 3.4241, 3.4227, 3.4212, 3.4198, 3.4183, 3.4169, 3.4154, 3.414, 3.4125, 3.4111, 3.4097, 3.4083, 3.4069, 3.4055, 3.4041, 3.4027, 3.4013, 3.4, 3" \
+ ".3986, 3.3972, 3.3958, 3.3945, 3.3931, 3.3918, 3.3905, 3.3891, 3.3878, 3.3865, 3.3852, 3.3838, 3.3826, 3.3812, 3.3799, 3.3786, 3.3774, 3.3761, 3.3748, 3.3735, 3.3723," \
+ " 3.371, 3.3697, 3.3685, 3.3672, 3.366, 3.3648, 3.3635, 3.3623, 3.3611, 3.3599, 3.3586, 3.3574, 3.3562, 3.355, 3.3538, 3.3526, 3.3514, 3.3502, 3.349"

L = s.split(", ")

print(len(L))